<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ToolboxUI</title>
    <script>
      // Apply saved theme (or OS default) before modules load to reduce flashing.
      (() => {
        const root = document.documentElement
        const darkClass = 'sl-theme-dark'
        const lightClass = 'sl-theme-light'
        let theme = 'light'

        try {
          const stored = localStorage.getItem('tbx-theme')
          if (stored === 'dark' || stored === 'light') {
            theme = stored
          } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            theme = 'dark'
          }
        } catch (_) {
          // Storage may be unavailable (private mode etc.); fall back to defaults.
        }

        root.classList.remove(darkClass, lightClass)
        root.classList.add(theme === 'dark' ? darkClass : lightClass)
        root.style.colorScheme = theme
      })()
    </script>
    <link rel="stylesheet" href="{{.CSS}}" />
    <script type="module" src="{{.JS}}" defer></script>
  </head>
  <body>
    <tbx-page-menu page-title="ToolboxUI">
      <h2>Chart Component</h2>
      <tbx-chart></tbx-chart>

      <h2>Grid Component</h2>
      <tbx-grid></tbx-grid>

      <h2>Clock Component</h2>
      <tbx-clock timezone="UTC"></tbx-clock>
      <tbx-clock timezone="America/New_York"></tbx-clock>
      <tbx-clock timezone="America/Chicago"></tbx-clock>
      <tbx-clock timezone="America/Denver"></tbx-clock>
      <tbx-clock timezone="America/Los_Angeles"></tbx-clock>

      <h2>Form Component</h2>
      <tbx-form></tbx-form>

      <h2>Markdown Component</h2>
      <tbx-markdown>
        <script type="text/markdown">
**The Cauchy-Schwarz Inequality**

$$\left( \sum_{k=1}^n a_k b_k \right)^2 \leq \left( \sum_{k=1}^n a_k^2 \right) \left( \sum_{k=1}^n b_k^2 \right)$$
        </script>
      </tbx-markdown>

      <h2>Console Component</h2>
      <tbx-console></tbx-console>
    </tbx-page-menu>
  </body>
</html>
